{"version":3,"file":"rich-text-react-renderer.es5.js","sources":["../../rich-text-types/src/blocks.ts","../../rich-text-types/src/inlines.ts","../../rich-text-types/src/marks.ts","../../rich-text-types/src/schemaConstraints.ts","../../rich-text-types/src/emptyDocument.ts","../../rich-text-types/src/helpers.ts","../../rich-text-types/src/index.ts","../src/util/appendKeyToValidElement.ts","../src/util/nodeListToReactComponents.tsx","../src/index.tsx"],"sourcesContent":["/**\n * Map of all Contentful block types. Blocks contain inline or block nodes.\n */\nexport enum BLOCKS {\n  DOCUMENT = 'document',\n  PARAGRAPH = 'paragraph',\n\n  HEADING_1 = 'heading-1',\n  HEADING_2 = 'heading-2',\n  HEADING_3 = 'heading-3',\n  HEADING_4 = 'heading-4',\n  HEADING_5 = 'heading-5',\n  HEADING_6 = 'heading-6',\n\n  OL_LIST = 'ordered-list',\n  UL_LIST = 'unordered-list',\n  LIST_ITEM = 'list-item',\n\n  HR = 'hr',\n  QUOTE = 'blockquote',\n\n  EMBEDDED_ENTRY = 'embedded-entry-block',\n  EMBEDDED_ASSET = 'embedded-asset-block',\n  EMBEDDED_RESOURCE = 'embedded-resource-block',\n\n  TABLE = 'table',\n  TABLE_ROW = 'table-row',\n  TABLE_CELL = 'table-cell',\n  TABLE_HEADER_CELL = 'table-header-cell',\n}\n","/**\n * Map of all Contentful inline types. Inline contain inline or text nodes.\n */\nexport enum INLINES {\n  HYPERLINK = 'hyperlink',\n  ENTRY_HYPERLINK = 'entry-hyperlink',\n  ASSET_HYPERLINK = 'asset-hyperlink',\n  RESOURCE_HYPERLINK = 'resource-hyperlink',\n  EMBEDDED_ENTRY = 'embedded-entry-inline',\n  EMBEDDED_RESOURCE = 'embedded-resource-inline',\n}\n","/**\n * Map of all Contentful marks.\n */\nenum MARKS {\n  BOLD = 'bold',\n  ITALIC = 'italic',\n  UNDERLINE = 'underline',\n  CODE = 'code',\n  SUPERSCRIPT = 'superscript',\n  SUBSCRIPT = 'subscript',\n}\n\nexport default MARKS;\n","import { BLOCKS } from './blocks';\nimport { INLINES } from './inlines';\nimport MARKS from './marks';\n\nexport type TopLevelBlockEnum =\n  | BLOCKS.PARAGRAPH\n  | BLOCKS.HEADING_1\n  | BLOCKS.HEADING_2\n  | BLOCKS.HEADING_3\n  | BLOCKS.HEADING_4\n  | BLOCKS.HEADING_5\n  | BLOCKS.HEADING_6\n  | BLOCKS.OL_LIST\n  | BLOCKS.UL_LIST\n  | BLOCKS.HR\n  | BLOCKS.QUOTE\n  | BLOCKS.EMBEDDED_ENTRY\n  | BLOCKS.EMBEDDED_ASSET\n  | BLOCKS.EMBEDDED_RESOURCE\n  | BLOCKS.TABLE;\n\n/**\n * Array of all top level block types.\n * Only these block types can be the direct children of the document.\n */\nexport const TOP_LEVEL_BLOCKS: TopLevelBlockEnum[] = [\n  BLOCKS.PARAGRAPH,\n  BLOCKS.HEADING_1,\n  BLOCKS.HEADING_2,\n  BLOCKS.HEADING_3,\n  BLOCKS.HEADING_4,\n  BLOCKS.HEADING_5,\n  BLOCKS.HEADING_6,\n  BLOCKS.OL_LIST,\n  BLOCKS.UL_LIST,\n  BLOCKS.HR,\n  BLOCKS.QUOTE,\n  BLOCKS.EMBEDDED_ENTRY,\n  BLOCKS.EMBEDDED_ASSET,\n  BLOCKS.EMBEDDED_RESOURCE,\n  BLOCKS.TABLE,\n];\n\nexport type ListItemBlockEnum =\n  | BLOCKS.PARAGRAPH\n  | BLOCKS.HEADING_1\n  | BLOCKS.HEADING_2\n  | BLOCKS.HEADING_3\n  | BLOCKS.HEADING_4\n  | BLOCKS.HEADING_5\n  | BLOCKS.HEADING_6\n  | BLOCKS.OL_LIST\n  | BLOCKS.UL_LIST\n  | BLOCKS.HR\n  | BLOCKS.QUOTE\n  | BLOCKS.EMBEDDED_ENTRY\n  | BLOCKS.EMBEDDED_ASSET\n  | BLOCKS.EMBEDDED_RESOURCE;\n\n/**\n * Array of all allowed block types inside list items\n */\nexport const LIST_ITEM_BLOCKS: TopLevelBlockEnum[] = [\n  BLOCKS.PARAGRAPH,\n  BLOCKS.HEADING_1,\n  BLOCKS.HEADING_2,\n  BLOCKS.HEADING_3,\n  BLOCKS.HEADING_4,\n  BLOCKS.HEADING_5,\n  BLOCKS.HEADING_6,\n  BLOCKS.OL_LIST,\n  BLOCKS.UL_LIST,\n  BLOCKS.HR,\n  BLOCKS.QUOTE,\n  BLOCKS.EMBEDDED_ENTRY,\n  BLOCKS.EMBEDDED_ASSET,\n  BLOCKS.EMBEDDED_RESOURCE,\n];\n\nexport const TABLE_BLOCKS = [\n  BLOCKS.TABLE,\n  BLOCKS.TABLE_ROW,\n  BLOCKS.TABLE_CELL,\n  BLOCKS.TABLE_HEADER_CELL,\n];\n\n/**\n * Array of all void block types\n */\nexport const VOID_BLOCKS = [\n  BLOCKS.HR,\n  BLOCKS.EMBEDDED_ENTRY,\n  BLOCKS.EMBEDDED_ASSET,\n  BLOCKS.EMBEDDED_RESOURCE,\n];\n\n/**\n * Dictionary of all container block types, and the set block types they accept as children.\n *\n * Note: This does not include `[BLOCKS.DOCUMENT]: TOP_LEVEL_BLOCKS`\n */\nexport const CONTAINERS = {\n  [BLOCKS.OL_LIST]: [BLOCKS.LIST_ITEM],\n  [BLOCKS.UL_LIST]: [BLOCKS.LIST_ITEM],\n  [BLOCKS.LIST_ITEM]: LIST_ITEM_BLOCKS,\n  [BLOCKS.QUOTE]: [BLOCKS.PARAGRAPH],\n  [BLOCKS.TABLE]: [BLOCKS.TABLE_ROW],\n  [BLOCKS.TABLE_ROW]: [BLOCKS.TABLE_CELL, BLOCKS.TABLE_HEADER_CELL],\n  [BLOCKS.TABLE_CELL]: [BLOCKS.PARAGRAPH],\n  [BLOCKS.TABLE_HEADER_CELL]: [BLOCKS.PARAGRAPH],\n};\n\n/**\n * Array of all heading levels\n */\nexport const HEADINGS = [\n  BLOCKS.HEADING_1,\n  BLOCKS.HEADING_2,\n  BLOCKS.HEADING_3,\n  BLOCKS.HEADING_4,\n  BLOCKS.HEADING_5,\n  BLOCKS.HEADING_6,\n];\n\n/**\n * Array of all block types that may contain text and inline nodes.\n */\nexport const TEXT_CONTAINERS = [BLOCKS.PARAGRAPH, ...HEADINGS];\n\n/**\n * Node types before `tables` release.\n */\nexport const V1_NODE_TYPES = [\n  BLOCKS.DOCUMENT,\n  BLOCKS.PARAGRAPH,\n  BLOCKS.HEADING_1,\n  BLOCKS.HEADING_2,\n  BLOCKS.HEADING_3,\n  BLOCKS.HEADING_4,\n  BLOCKS.HEADING_5,\n  BLOCKS.HEADING_6,\n  BLOCKS.OL_LIST,\n  BLOCKS.UL_LIST,\n  BLOCKS.LIST_ITEM,\n  BLOCKS.HR,\n  BLOCKS.QUOTE,\n  BLOCKS.EMBEDDED_ENTRY,\n  BLOCKS.EMBEDDED_ASSET,\n  INLINES.HYPERLINK,\n  INLINES.ENTRY_HYPERLINK,\n  INLINES.ASSET_HYPERLINK,\n  INLINES.EMBEDDED_ENTRY,\n  'text',\n];\n\n/**\n * Marks before `superscript` & `subscript` release.\n */\nexport const V1_MARKS = [MARKS.BOLD, MARKS.CODE, MARKS.ITALIC, MARKS.UNDERLINE];\n","import { Document } from './types';\nimport { BLOCKS } from './blocks';\n\n/**\n * A rich text document considered to be empty.\n * Any other document structure than this is not considered empty.\n */\nconst EMPTY_DOCUMENT: Document = {\n  nodeType: BLOCKS.DOCUMENT,\n  data: {},\n  content: [\n    {\n      nodeType: BLOCKS.PARAGRAPH,\n      data: {},\n      content: [\n        {\n          nodeType: 'text',\n          value: '',\n          marks: [],\n          data: {},\n        },\n      ],\n    },\n  ],\n};\n\nexport default EMPTY_DOCUMENT;\n","import { Node, Block, Inline, Text } from './types';\nimport { BLOCKS } from './blocks';\nimport { INLINES } from './inlines';\n\n/**\n * Tiny replacement for Object.values(object).includes(key) to\n * avoid including CoreJS polyfills\n */\nfunction hasValue(obj: Record<string, unknown>, value: unknown) {\n  for (const key of Object.keys(obj)) {\n    if (value === obj[key]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Checks if the node is an instance of Inline.\n */\nexport function isInline(node: Node): node is Inline {\n  return hasValue(INLINES, node.nodeType);\n}\n\n/**\n * Checks if the node is an instance of Block.\n */\nexport function isBlock(node: Node): node is Block {\n  return hasValue(BLOCKS, node.nodeType);\n}\n\n/**\n * Checks if the node is an instance of Text.\n */\nexport function isText(node: Node): node is Text {\n  return node.nodeType === 'text';\n}\n","export { BLOCKS } from './blocks';\nexport { INLINES } from './inlines';\nexport { default as MARKS } from './marks';\n\nexport * from './schemaConstraints';\n\nexport * from './types';\nexport * from './nodeTypes';\n\nexport { default as EMPTY_DOCUMENT } from './emptyDocument';\n\nimport * as helpers from './helpers';\nexport { helpers };\n","import { cloneElement, isValidElement, ReactNode } from 'react';\n\nexport function appendKeyToValidElement(element: ReactNode, key: number): ReactNode {\n  if (isValidElement(element) && element.key === null) {\n    return cloneElement(element, { key });\n  }\n  return element;\n}\n","import React, { ReactNode } from 'react';\nimport { helpers, Mark } from '@contentful/rich-text-types';\nimport { CommonNode, Options } from '..';\nimport { appendKeyToValidElement } from './appendKeyToValidElement';\n\nexport function nodeListToReactComponents(nodes: CommonNode[], options: Options): ReactNode {\n  return nodes.map((node: CommonNode, index: number): ReactNode => {\n    return appendKeyToValidElement(nodeToReactComponent(node, options), index);\n  });\n}\n\nexport function nodeToReactComponent(node: CommonNode, options: Options): ReactNode {\n  const { renderNode, renderMark, renderText, preserveWhitespace } = options;\n\n  if (helpers.isText(node)) {\n    let nodeValue: ReactNode = renderText ? renderText(node.value) : node.value;\n\n    if (preserveWhitespace) {\n      // Preserve multiple spaces.\n      nodeValue = (nodeValue as string).replace(/ {2,}/g, (match) => '&nbsp;'.repeat(match.length));\n\n      // Preserve line breaks.\n      let lines = (nodeValue as string).split('\\n');\n      let jsxLines: (string | JSX.Element)[] = [];\n      lines.forEach((line, index) => {\n        jsxLines.push(line);\n        if (index !== lines.length - 1) {\n          jsxLines.push(<br />);\n        }\n      });\n      nodeValue = jsxLines;\n    }\n\n    return node.marks.reduce((value: ReactNode, mark: Mark): ReactNode => {\n      if (!renderMark[mark.type]) {\n        return value;\n      }\n      return renderMark[mark.type](value);\n    }, nodeValue);\n  } else {\n    const children: ReactNode = nodeListToReactComponents(node.content, options);\n    if (!node.nodeType || !renderNode[node.nodeType]) {\n      return <>{children}</>;\n    }\n    return renderNode[node.nodeType](node, children);\n  }\n}\n","import React, { ReactNode } from 'react';\nimport { Block, BLOCKS, Document, Inline, INLINES, MARKS, Text } from '@contentful/rich-text-types';\nimport { nodeToReactComponent } from './util/nodeListToReactComponents';\n\nconst defaultNodeRenderers: RenderNode = {\n  [BLOCKS.DOCUMENT]: (node, children) => children,\n  [BLOCKS.PARAGRAPH]: (node, children) => <p>{children}</p>,\n  [BLOCKS.HEADING_1]: (node, children) => <h1>{children}</h1>,\n  [BLOCKS.HEADING_2]: (node, children) => <h2>{children}</h2>,\n  [BLOCKS.HEADING_3]: (node, children) => <h3>{children}</h3>,\n  [BLOCKS.HEADING_4]: (node, children) => <h4>{children}</h4>,\n  [BLOCKS.HEADING_5]: (node, children) => <h5>{children}</h5>,\n  [BLOCKS.HEADING_6]: (node, children) => <h6>{children}</h6>,\n  [BLOCKS.EMBEDDED_ENTRY]: (node, children) => <div>{children}</div>,\n  [BLOCKS.EMBEDDED_RESOURCE]: (node, children) => <div>{children}</div>,\n  [BLOCKS.UL_LIST]: (node, children) => <ul>{children}</ul>,\n  [BLOCKS.OL_LIST]: (node, children) => <ol>{children}</ol>,\n  [BLOCKS.LIST_ITEM]: (node, children) => <li>{children}</li>,\n  [BLOCKS.QUOTE]: (node, children) => <blockquote>{children}</blockquote>,\n  [BLOCKS.HR]: () => <hr />,\n  [BLOCKS.TABLE]: (node, children) => (\n    <table>\n      <tbody>{children}</tbody>\n    </table>\n  ),\n  [BLOCKS.TABLE_ROW]: (node, children) => <tr>{children}</tr>,\n  [BLOCKS.TABLE_HEADER_CELL]: (node, children) => <th>{children}</th>,\n  [BLOCKS.TABLE_CELL]: (node, children) => <td>{children}</td>,\n  [INLINES.ASSET_HYPERLINK]: (node) => defaultInline(INLINES.ASSET_HYPERLINK, node as Inline),\n  [INLINES.ENTRY_HYPERLINK]: (node) => defaultInline(INLINES.ENTRY_HYPERLINK, node as Inline),\n  [INLINES.RESOURCE_HYPERLINK]: (node) =>\n    defaultInlineResource(INLINES.RESOURCE_HYPERLINK, node as Inline),\n  [INLINES.EMBEDDED_ENTRY]: (node) => defaultInline(INLINES.EMBEDDED_ENTRY, node as Inline),\n  [INLINES.EMBEDDED_RESOURCE]: (node, children) =>\n    defaultInlineResource(INLINES.EMBEDDED_RESOURCE, node as Inline),\n  [INLINES.HYPERLINK]: (node, children) => <a href={node.data.uri}>{children}</a>,\n};\n\nconst defaultMarkRenderers: RenderMark = {\n  [MARKS.BOLD]: (text) => <b>{text}</b>,\n  [MARKS.ITALIC]: (text) => <i>{text}</i>,\n  [MARKS.UNDERLINE]: (text) => <u>{text}</u>,\n  [MARKS.CODE]: (text) => <code>{text}</code>,\n  [MARKS.SUPERSCRIPT]: (text) => <sup>{text}</sup>,\n  [MARKS.SUBSCRIPT]: (text) => <sub>{text}</sub>,\n};\n\nfunction defaultInline(type: string, node: Inline): ReactNode {\n  return (\n    <span key={node.data.target.sys.id}>\n      type: {node.nodeType} id: {node.data.target.sys.id}\n    </span>\n  );\n}\n\nfunction defaultInlineResource(type: string, node: Inline) {\n  return (\n    <span key={node.data.target.sys.urn}>\n      type: {node.nodeType} urn: {node.data.target.sys.urn}\n    </span>\n  );\n}\n\nexport type CommonNode = Text | Block | Inline;\n\nexport interface NodeRenderer {\n  (node: Block | Inline, children: ReactNode): ReactNode;\n}\n\nexport interface RenderNode {\n  [k: string]: NodeRenderer;\n}\n\nexport interface RenderMark {\n  [k: string]: (text: ReactNode) => ReactNode;\n}\n\nexport interface RenderText {\n  (text: string): ReactNode;\n}\n\nexport interface Options {\n  /**\n   * Node renderers\n   */\n  renderNode?: RenderNode;\n  /**\n   * Mark renderers\n   */\n  renderMark?: RenderMark;\n  /**\n   * Text renderer\n   */\n  renderText?: RenderText;\n  /**\n   * Keep line breaks and multiple spaces\n   */\n  preserveWhitespace?: boolean;\n}\n\n/**\n * Serialize a Contentful Rich Text `document` to React tree\n */\nexport function documentToReactComponents(\n  richTextDocument: Document,\n  options: Options = {},\n): ReactNode {\n  if (!richTextDocument) {\n    return null;\n  }\n\n  return nodeToReactComponent(richTextDocument, {\n    renderNode: {\n      ...defaultNodeRenderers,\n      ...options.renderNode,\n    },\n    renderMark: {\n      ...defaultMarkRenderers,\n      ...options.renderMark,\n    },\n    renderText: options.renderText,\n    preserveWhitespace: options.preserveWhitespace,\n  });\n}\n"],"names":["blocks_1","inlines_1","isValidElement","cloneElement","helpers","React","BLOCKS","INLINES","MARKS"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAGA,IAAY,MA0BX;AA1BD,WAAY,MAAM;IAChB,+BAAqB,CAAA;IACrB,iCAAuB,CAAA;IAEvB,iCAAuB,CAAA;IACvB,iCAAuB,CAAA;IACvB,iCAAuB,CAAA;IACvB,iCAAuB,CAAA;IACvB,iCAAuB,CAAA;IACvB,iCAAuB,CAAA;IAEvB,kCAAwB,CAAA;IACxB,oCAA0B,CAAA;IAC1B,iCAAuB,CAAA;IAEvB,mBAAS,CAAA;IACT,8BAAoB,CAAA;IAEpB,iDAAuC,CAAA;IACvC,iDAAuC,CAAA;IACvC,uDAA6C,CAAA;IAE7C,yBAAe,CAAA;IACf,iCAAuB,CAAA;IACvB,mCAAyB,CAAA;IACzB,iDAAuC,CAAA;AACzC,CAAC,EA1BW,MAAM,sBAAN,MAAM,QA0BjB;;;;;;;;;;AC7BD;;;AAGA,IAAY,OAOX;AAPD,WAAY,OAAO;IACjB,kCAAuB,CAAA;IACvB,8CAAmC,CAAA;IACnC,8CAAmC,CAAA;IACnC,oDAAyC,CAAA;IACzC,mDAAwC,CAAA;IACxC,yDAA8C,CAAA;AAChD,CAAC,EAPW,OAAO,uBAAP,OAAO,QAOlB;;;;;;;;;ACVD;;;AAGA,IAAK,KAOJ;AAPD,WAAK,KAAK;IACR,sBAAa,CAAA;IACb,0BAAiB,CAAA;IACjB,gCAAuB,CAAA;IACvB,sBAAa,CAAA;IACb,oCAA2B,CAAA;IAC3B,gCAAuB,CAAA;AACzB,CAAC,EAPI,KAAK,KAAL,KAAK,QAOT;AAED,kBAAe,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;;ACZa;AACE;AACpC,qCAA4B;AAmB5B;;;;AAIa,wBAAgB,GAAwB;IACnDA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,EAAE;IACTA,aAAM,CAAC,KAAK;IACZA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,iBAAiB;IACxBA,aAAM,CAAC,KAAK;CACb,CAAC;AAkBF;;;AAGa,wBAAgB,GAAwB;IACnDA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,EAAE;IACTA,aAAM,CAAC,KAAK;IACZA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,iBAAiB;CACzB,CAAC;AAEW,oBAAY,GAAG;IAC1BA,aAAM,CAAC,KAAK;IACZA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,UAAU;IACjBA,aAAM,CAAC,iBAAiB;CACzB,CAAC;AAEF;;;AAGa,mBAAW,GAAG;IACzBA,aAAM,CAAC,EAAE;IACTA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,iBAAiB;CACzB,CAAC;AAEF;;;;;AAKa,kBAAU;IACrB,GAACA,aAAM,CAAC,OAAO,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;IACpC,GAACA,aAAM,CAAC,OAAO,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;IACpC,GAACA,aAAM,CAAC,SAAS,IAAG,wBAAgB;IACpC,GAACA,aAAM,CAAC,KAAK,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;IAClC,GAACA,aAAM,CAAC,KAAK,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;IAClC,GAACA,aAAM,CAAC,SAAS,IAAG,CAACA,aAAM,CAAC,UAAU,EAAEA,aAAM,CAAC,iBAAiB,CAAC;IACjE,GAACA,aAAM,CAAC,UAAU,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;IACvC,GAACA,aAAM,CAAC,iBAAiB,IAAG,CAACA,aAAM,CAAC,SAAS,CAAC;QAC9C;AAEF;;;AAGa,gBAAQ,GAAG;IACtBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;CACjB,CAAC;AAEF;;;AAGa,uBAAe,kBAAIA,aAAM,CAAC,SAAS,GAAK,gBAAQ,QAAE;AAE/D;;;AAGa,qBAAa,GAAG;IAC3BA,aAAM,CAAC,QAAQ;IACfA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,OAAO;IACdA,aAAM,CAAC,SAAS;IAChBA,aAAM,CAAC,EAAE;IACTA,aAAM,CAAC,KAAK;IACZA,aAAM,CAAC,cAAc;IACrBA,aAAM,CAAC,cAAc;IACrBC,eAAO,CAAC,SAAS;IACjBA,eAAO,CAAC,eAAe;IACvBA,eAAO,CAAC,eAAe;IACvBA,eAAO,CAAC,cAAc;IACtB,MAAM;CACP,CAAC;AAEF;;;AAGa,gBAAQ,GAAG,CAAC,eAAK,CAAC,IAAI,EAAE,eAAK,CAAC,IAAI,EAAE,eAAK,CAAC,MAAM,EAAE,eAAK,CAAC,SAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7J9C;AAElC;;;;AAIA,IAAM,cAAc,GAAa;IAC/B,QAAQ,EAAED,aAAM,CAAC,QAAQ;IACzB,IAAI,EAAE,EAAE;IACR,OAAO,EAAE;QACP;YACE,QAAQ,EAAEA,aAAM,CAAC,SAAS;YAC1B,IAAI,EAAE,EAAE;YACR,OAAO,EAAE;gBACP;oBACE,QAAQ,EAAE,MAAM;oBAChB,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,EAAE;oBACT,IAAI,EAAE,EAAE;iBACT;aACF;SACF;KACF;CACF,CAAC;AAEF,kBAAe,cAAc,CAAC;;;;;;;;;ACzBI;AACE;AAEpC;;;;AAIA,SAAS,QAAQ,CAAC,GAA4B,EAAE,KAAc;IAC5D,KAAkB,UAAgB,EAAhB,KAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAhB,cAAgB,EAAhB,IAAgB,EAAE;QAA/B,IAAM,GAAG,SAAA;QACZ,IAAI,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE;YACtB,OAAO,IAAI,CAAC;SACb;KACF;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;AAGA,SAAgB,QAAQ,CAAC,IAAU;IACjC,OAAO,QAAQ,CAACC,eAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC;AAFD,4BAEC;AAED;;;AAGA,SAAgB,OAAO,CAAC,IAAU;IAChC,OAAO,QAAQ,CAACD,aAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AACzC,CAAC;AAFD,0BAEC;AAED;;;AAGA,SAAgB,MAAM,CAAC,IAAU;IAC/B,OAAO,IAAI,CAAC,QAAQ,KAAK,MAAM,CAAC;AAClC,CAAC;AAFD,wBAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCiC;AAAzB,8FAAA,MAAM,OAAA;AACqB;AAA3B,gGAAA,OAAO,OAAA;AAC2B;AAAlC,6GAAA,OAAO,OAAS;AAEzB,yCAAoC;AAEpC,6BAAwB;AACxB,iCAA4B;AAEgC;AAAnD,8HAAA,OAAO,OAAkB;AAElC,sCAAqC;AAC5B,4BAAO;;;;;;;;;;;SCVA,uBAAuB,CAAC,OAAkB,EAAE,GAAW;IACrE,IAAIE,oBAAc,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,GAAG,KAAK,IAAI,EAAE;QACnD,OAAOC,kBAAY,CAAC,OAAO,EAAE,EAAE,GAAG,KAAA,EAAE,CAAC,CAAC;KACvC;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;;SCFe,yBAAyB,CAAC,KAAmB,EAAE,OAAgB;IAC7E,OAAO,KAAK,CAAC,GAAG,CAAC,UAAC,IAAgB,EAAE,KAAa;QAC/C,OAAO,uBAAuB,CAAC,oBAAoB,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC;KAC5E,CAAC,CAAC;AACL,CAAC;AAED,SAAgB,oBAAoB,CAAC,IAAgB,EAAE,OAAgB;IAC7D,IAAA,UAAU,GAAiD,OAAO,WAAxD,EAAE,UAAU,GAAqC,OAAO,WAA5C,EAAE,UAAU,GAAyB,OAAO,WAAhC,EAAE,kBAAkB,GAAK,OAAO,mBAAZ,CAAa;IAE3E,IAAIC,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;QACxB,IAAI,SAAS,GAAc,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;QAE5E,IAAI,kBAAkB,EAAE;;YAEtB,SAAS,GAAI,SAAoB,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAC,KAAK,IAAK,OAAA,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAA,CAAC,CAAC;;YAG9F,IAAI,OAAK,GAAI,SAAoB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,UAAQ,GAA6B,EAAE,CAAC;YAC5C,OAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;gBACxB,UAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,KAAK,KAAK,OAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC9B,UAAQ,CAAC,IAAI,CAACC,wCAAM,CAAC,CAAC;iBACvB;aACF,CAAC,CAAC;YACH,SAAS,GAAG,UAAQ,CAAC;SACtB;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAC,KAAgB,EAAE,IAAU;YACpD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAC1B,OAAO,KAAK,CAAC;aACd;YACD,OAAO,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;SACrC,EAAE,SAAS,CAAC,CAAC;KACf;SAAM;QACL,IAAM,QAAQ,GAAc,yBAAyB,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC7E,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAChD,OAAOA,4DAAG,QAAQ,CAAI,CAAC;SACxB;QACD,OAAO,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAClD;AACH,CAAC;;;AC1CD,IAAM,oBAAoB;IACxB,GAACC,MAAM,CAAC,QAAQ,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAA,QAAQ,GAAA;IAC/C,GAACA,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,wCAAI,QAAQ,CAAK,GAAA;IACzD,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,cAAc,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,0CAAM,QAAQ,CAAO,GAAA;IAClE,GAACC,MAAM,CAAC,iBAAiB,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,0CAAM,QAAQ,CAAO,GAAA;IACrE,GAACC,MAAM,CAAC,OAAO,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IACzD,GAACC,MAAM,CAAC,OAAO,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IACzD,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,KAAK,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,iDAAa,QAAQ,CAAc,GAAA;IACvE,GAACC,MAAM,CAAC,EAAE,IAAG,cAAM,OAAAD,wCAAM,GAAA;IACzB,GAACC,MAAM,CAAC,KAAK,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,QAClCD;QACEA,4CAAQ,QAAQ,CAAS,CACnB,IACT;IACD,GAACC,MAAM,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC3D,GAACC,MAAM,CAAC,iBAAiB,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IACnE,GAACC,MAAM,CAAC,UAAU,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAD,yCAAK,QAAQ,CAAM,GAAA;IAC5D,GAACE,MAAO,CAAC,eAAe,IAAG,UAAC,IAAI,IAAK,OAAA,aAAa,CAACA,MAAO,CAAC,eAAe,EAAE,IAAc,CAAC,GAAA;IAC3F,GAACA,MAAO,CAAC,eAAe,IAAG,UAAC,IAAI,IAAK,OAAA,aAAa,CAACA,MAAO,CAAC,eAAe,EAAE,IAAc,CAAC,GAAA;IAC3F,GAACA,MAAO,CAAC,kBAAkB,IAAG,UAAC,IAAI;QACjC,OAAA,qBAAqB,CAACA,MAAO,CAAC,kBAAkB,EAAE,IAAc,CAAC;KAAA;IACnE,GAACA,MAAO,CAAC,cAAc,IAAG,UAAC,IAAI,IAAK,OAAA,aAAa,CAACA,MAAO,CAAC,cAAc,EAAE,IAAc,CAAC,GAAA;IACzF,GAACA,MAAO,CAAC,iBAAiB,IAAG,UAAC,IAAI,EAAE,QAAQ;QAC1C,OAAA,qBAAqB,CAACA,MAAO,CAAC,iBAAiB,EAAE,IAAc,CAAC;KAAA;IAClE,GAACA,MAAO,CAAC,SAAS,IAAG,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAAF,oCAAG,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,IAAG,QAAQ,CAAK,GAAA;OAChF,CAAC;AAEF,IAAM,oBAAoB;IACxB,GAACG,MAAK,CAAC,IAAI,IAAG,UAAC,IAAI,IAAK,OAAAH,wCAAI,IAAI,CAAK,GAAA;IACrC,GAACG,MAAK,CAAC,MAAM,IAAG,UAAC,IAAI,IAAK,OAAAH,wCAAI,IAAI,CAAK,GAAA;IACvC,GAACG,MAAK,CAAC,SAAS,IAAG,UAAC,IAAI,IAAK,OAAAH,wCAAI,IAAI,CAAK,GAAA;IAC1C,GAACG,MAAK,CAAC,IAAI,IAAG,UAAC,IAAI,IAAK,OAAAH,2CAAO,IAAI,CAAQ,GAAA;IAC3C,GAACG,MAAK,CAAC,WAAW,IAAG,UAAC,IAAI,IAAK,OAAAH,0CAAM,IAAI,CAAO,GAAA;IAChD,GAACG,MAAK,CAAC,SAAS,IAAG,UAAC,IAAI,IAAK,OAAAH,0CAAM,IAAI,CAAO,GAAA;OAC/C,CAAC;AAEF,SAAS,aAAa,CAAC,IAAY,EAAE,IAAY;IAC/C,QACEA,uCAAM,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;;QACzB,IAAI,CAAC,QAAQ;;QAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAC7C,EACP;AACJ,CAAC;AAED,SAAS,qBAAqB,CAAC,IAAY,EAAE,IAAY;IACvD,QACEA,uCAAM,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG;;QAC1B,IAAI,CAAC,QAAQ;;QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAC/C,EACP;AACJ,CAAC;AAuCD;;;AAGA,SAAgB,yBAAyB,CACvC,gBAA0B,EAC1B,OAAqB;IAArB,wBAAA,EAAA,YAAqB;IAErB,IAAI,CAAC,gBAAgB,EAAE;QACrB,OAAO,IAAI,CAAC;KACb;IAED,OAAO,oBAAoB,CAAC,gBAAgB,EAAE;QAC5C,UAAU,wBACL,oBAAoB,GACpB,OAAO,CAAC,UAAU,CACtB;QACD,UAAU,wBACL,oBAAoB,GACpB,OAAO,CAAC,UAAU,CACtB;QACD,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,kBAAkB,EAAE,OAAO,CAAC,kBAAkB;KAC/C,CAAC,CAAC;AACL,CAAC;;;;"}