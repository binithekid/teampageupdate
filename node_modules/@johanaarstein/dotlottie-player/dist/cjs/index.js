"use strict";var lit=require("lit"),decorators_js=require("lit/decorators.js"),Lottie=require("lottie-web"),fflate=require("fflate"),buffer=require("buffer");function asyncGeneratorStep$1(e,t,r,o,n,a,i){try{var s=e[a](i),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(o,n)}function _async_to_generator$1(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var a=e.apply(t,r);function i(e){asyncGeneratorStep$1(a,o,n,i,s,"next",e)}function s(e){asyncGeneratorStep$1(a,o,n,i,s,"throw",e)}i(void 0)})}}function _ts_generator$1(e,t){var r,o,n,a,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){i.label=a[1];break}if(6===a[0]&&i.label<n[1]){i.label=n[1],n=a;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(a);break}n[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}exports.PlayerState=void 0,function(e){e.Completed="completed",e.Destroyed="destroyed",e.Error="error",e.Frozen="frozen",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Stopped="stopped"}(exports.PlayerState||(exports.PlayerState={})),exports.PlayMode=void 0,function(e){e.Bounce="bounce",e.Normal="normal"}(exports.PlayMode||(exports.PlayMode={})),exports.PlayerEvents=void 0,function(e){e.Complete="complete",e.Destroyed="destroyed",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.Load="load",e.Loop="loop",e.Pause="pause",e.Play="play",e.Ready="ready",e.Rendered="rendered",e.Stop="stop"}(exports.PlayerEvents||(exports.PlayerEvents={}));var aspectRatio=function(e){switch(e){case"contain":case"scale-down":default:return"xMidYMid meet";case"cover":return"xMidYMid slice";case"fill":return"none";case"none":return"xMinYMin slice"}},fetchPath=function(){var e=_async_to_generator$1(function(e){var t,r,o,n,a,i,s,l,c,p;return _ts_generator$1(this,function(u){switch(u.label){case 0:r=null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase(),u.label=1;case 1:return u.trys.push([1,8,,9]),[4,fetch(e)];case 2:if(n=u.sent(),"json"!==r)return[3,4];return[4,n.json()];case 3:return[2,u.sent()];case 4:return l=Uint8Array.bind,[4,n.arrayBuffer()];case 5:return a=new(l.apply(Uint8Array,[void 0,u.sent()])),[4,new Promise(function(e,t){fflate.unzip(a,function(r,o){r&&t(r),e(o)})})];case 6:if(i=u.sent(),!("animations"in(s=JSON.parse(fflate.strFromU8(i["manifest.json"])))))throw Error("Manifest not found");if(!s.animations.length)throw Error("No animations listed in the manifest");return c=s.animations[0].id,[4,JSON.parse(fflate.strFromU8(null===(o=i)||void 0===o?void 0:o["animations/".concat(c,".json")]))];case 7:return"assets"in(p=u.sent())&&Promise.all(p.assets.map(function(e){var t,r=e.p;if(r&&(null===(t=i)||void 0===t?void 0:t["images/".concat(r)]))return new Promise(function(t){var o,n=r.split(".").pop(),a=null===(o=buffer.Buffer.from(i?.["images/".concat(r)]))||void 0===o?void 0:o.toString("base64");switch(n){case"svg":case"svg+xml":e.p="data:image/svg+xml;base64,".concat(a);break;case"png":case"jpg":case"jpeg":case"gif":case"webp":e.p="data:image/".concat(n,";base64,").concat(a);break;default:e.p="data:;base64,".concat(a)}e.e=1,t()})})),[2,p];case 8:throw u.sent(),Error("Error loading Lottie file.");case 9:return[2]}})});return function(t){return e.apply(this,arguments)}}();function _tagged_template_literal$1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _templateObject$1(){var e=_tagged_template_literal$1(["*{box-sizing:border-box}:host{--lottie-player-toolbar-height:35px;--lottie-player-toolbar-background-color:#FFF;--lottie-player-toolbar-icon-color:#000;--lottie-player-toolbar-icon-hover-color:#000;--lottie-player-toolbar-icon-active-color:#4285f4;--lottie-player-seeker-track-color:rgba(0, 0, 0, 0.2);--lottie-player-seeker-thumb-color:#4285f4;--lottie-player-seeker-display:block;display:block;width:100%;height:100%}@media (prefers-color-scheme:dark){:host{--lottie-player-toolbar-background-color:#000;--lottie-player-toolbar-icon-color:#FFF;--lottie-player-toolbar-icon-hover-color:#FFF;--lottie-player-seeker-track-color:rgba(255, 255, 255, 0.6)}}.main{display:flex;flex-direction:column;height:100%;width:100%}.animation{width:100%;height:100%;display:flex}.animation.controls{height:calc(100% - 35px)}.toolbar{display:flex;align-items:center;justify-items:center;background:var(--lottie-player-toolbar-background-color);margin:0 5px;height:35px;padding:5px;border-radius:5px}.toolbar button{cursor:pointer;fill:var(--lottie-player-toolbar-icon-color);display:flex;background:0 0;border:0;padding:0;outline:0;height:100%}.toolbar button.active{fill:var(--lottie-player-toolbar-icon-active-color)}.toolbar button:focus{outline:0}.toolbar button svg>*{fill:inherit}.toolbar button.disabled svg{display:none}.seeker,.seeker::-webkit-slider-runnable-track,.seeker::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;outline:0}.seeker{-webkit-appearance:none;appearance:none;width:95%;background-color:var(--lottie-player-toolbar-background-color);display:var(--lottie-player-seeker-display);color:var(--lottie-player-seeker-thumb-color)}.seeker::-webkit-slider-runnable-track{width:100%;height:5px;cursor:pointer;background-color:var(--lottie-player-seeker-track-color);border-radius:3px}.seeker::-webkit-progress-value{background-color:var(--lottie-player-seeker-thumb-color)}.seeker::-webkit-slider-thumb{height:15px;width:15px;border-radius:50%;background-color:var(--lottie-player-seeker-thumb-color);cursor:pointer;-webkit-appearance:none;appearance:none;margin-top:-5px}.seeker:focus::-webkit-slider-runnable-track{background-color:var(--lottie-player-seeker-track-color)}.seeker::-moz-range-track{width:100%;height:5px;cursor:pointer;background-color:var(--lottie-player-seeker-track-color);border-radius:3px;border:0}.seeker::-moz-range-progress{background-color:var(--lottie-player-seeker-thumb-color);height:5px;border-radius:3px}.seeker::-moz-range-thumb{height:15px;width:15px;border-radius:50%;background-color:var(--lottie-player-seeker-thumb-color);border:0;cursor:pointer}.seeker::-ms-track{width:100%;height:5px;cursor:pointer;background:0 0;border-color:transparent;color:transparent}.seeker::-ms-fill-upper{background:var(--lottie-player-seeker-track-color);border-radius:3px}.seeker::-ms-fill-lower{background-color:var(--lottie-player-seeker-thumb-color);border-radius:3px}.seeker::-ms-thumb{border:0;height:15px;width:15px;border-radius:50%;background:var(--lottie-player-seeker-thumb-color);cursor:pointer}.seeker:focus::-ms-fill-lower{background:var(--lottie-player-seeker-track-color)}.seeker:focus::-ms-fill-upper{background:var(--lottie-player-seeker-track-color)}.error{display:flex;margin:auto;justify-content:center;height:100%;align-items:center}"]);return _templateObject$1=function(){return e},e}var styles=lit.css(_templateObject$1());function _assert_this_initialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function asyncGeneratorStep(e,t,r,o,n,a,i){try{var s=e[a](i),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(o,n)}function _async_to_generator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,o,n,i,s,"next",e)}function s(e){asyncGeneratorStep(a,o,n,i,s,"throw",e)}i(void 0)})}}function _class_call_check(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _create_class(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _define_property(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=_super_prop_base(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r||e):n.value}})(e,t,r||e)}function _get_prototype_of(e){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_set_prototype_of(e,t)}function _object_spread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_define_property(e,t,r[t])})}return e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function _possible_constructor_return(e,t){return t&&("object"===_type_of(t)||"function"==typeof t)?t:_assert_this_initialized(e)}function _set_prototype_of(e,t){return(_set_prototype_of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _super_prop_base(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_get_prototype_of(e)););return e}function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _create_super(e){var t=_is_native_reflect_construct();return function(){var r,o=_get_prototype_of(e);if(t){var n=_get_prototype_of(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possible_constructor_return(this,r)}}function _ts_decorate(e,t,r,o){for(var n,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o,s=e.length-1;s>=0;s--)(n=e[s])&&(i=(a<3?n(i):a>3?n(t,r,i):n(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function _ts_generator(e,t){var r,o,n,a,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){i.label=a[1];break}if(6===a[0]&&i.label<n[1]){i.label=n[1],n=a;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(a);break}n[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function _ts_metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function _templateObject(){var e=_tagged_template_literal(['<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"/></svg>']);return _templateObject=function(){return e},e}function _templateObject1(){var e=_tagged_template_literal(['<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg>']);return _templateObject1=function(){return e},e}function _templateObject2(){var e=_tagged_template_literal(['<div class="lottie-controls toolbar" aria-label="Lottie Animation Controls" class="toolbar"><button @click="','" class="','" style="align-items:center" tabindex="0" aria-label="Toggle Play/Pause">','</button> <button @click="','" class="','" style="align-items:center" tabindex="0" aria-label="Stop"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M6 6h12v12H6V6z"/></svg></button> <input class="seeker" type="range" min="0" max="100" value="','" @input="','" @mousedown="','" @mouseup="','" aria-valuemin="0" aria-valuemax="100" role="slider" aria-valuenow="','" tabindex="0" aria-label="Slider for search"> <button @click="','" class="','" style="align-items:center" tabindex="0" aria-label="Toggle looping"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"/></svg></button> <button @click="','" class="','" aria-label="Toggle boomerang" style="align-items:center" tabindex="0"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="m11.8 13.2-.3.3c-.5.5-1.1 1.1-1.7 1.5-.5.4-1 .6-1.5.8-.5.2-1.1.3-1.6.3s-1-.1-1.5-.3c-.6-.2-1-.5-1.4-1-.5-.6-.8-1.2-.9-1.9-.2-.9-.1-1.8.3-2.6.3-.7.8-1.2 1.3-1.6.3-.2.6-.4 1-.5.2-.2.5-.2.8-.3.3 0 .7-.1 1 0 .3 0 .6.1.9.2.9.3 1.7.9 2.4 1.5.4.4.8.7 1.1 1.1l.1.1.4-.4c.6-.6 1.2-1.2 1.9-1.6.5-.3 1-.6 1.5-.7.4-.1.7-.2 1-.2h.9c1 .1 1.9.5 2.6 1.4.4.5.7 1.1.8 1.8.2.9.1 1.7-.2 2.5-.4.9-1 1.5-1.8 2-.4.2-.7.4-1.1.4-.4.1-.8.1-1.2.1-.5 0-.9-.1-1.3-.3-.8-.3-1.5-.9-2.1-1.5-.4-.4-.8-.7-1.1-1.1h-.3zm-1.1-1.1c-.1-.1-.1-.1 0 0-.3-.3-.6-.6-.8-.9-.5-.5-1-.9-1.6-1.2-.4-.3-.8-.4-1.3-.4-.4 0-.8 0-1.1.2-.5.2-.9.6-1.1 1-.2.3-.3.7-.3 1.1 0 .3 0 .6.1.9.1.5.4.9.8 1.2.5.4 1.1.5 1.7.5.5 0 1-.2 1.5-.5.6-.4 1.1-.8 1.6-1.3.1-.3.3-.5.5-.6zM13 12c.5.5 1 1 1.5 1.4.5.5 1.1.9 1.9 1 .4.1.8 0 1.2-.1.3-.1.6-.3.9-.5.4-.4.7-.9.8-1.4.1-.5 0-.9-.1-1.4-.3-.8-.8-1.2-1.7-1.4-.4-.1-.8-.1-1.2 0-.5.1-1 .4-1.4.7-.5.4-1 .8-1.4 1.2-.2.2-.4.3-.5.5z"/></svg></button></div>']);return _templateObject2=function(){return e},e}function _templateObject3(){var e=_tagged_template_literal(['<div class="error">⚠️</div>']);return _templateObject3=function(){return e},e}function _templateObject4(){var e=_tagged_template_literal(['<div class="','" lang="','" role="img" aria-label="','"><div class="','" style="background:','">',"</div>","</div>"]);return _templateObject4=function(){return e},e}exports.DotLottiePlayer=function(e){_inherits(r,e);var t=_create_super(r);function r(){var e;return _class_call_check(this,r),e=t.apply(this,arguments),e.background="transparent",e.controls=!1,e.currentState=exports.PlayerState.Loading,e.direction=1,e.hover=!1,e.intermission=0,e.loop=!1,e.mode=exports.PlayMode.Normal,e.objectfit="contain",e.renderer="svg",e.speed=1,e.subframe=!1,e._lottie=null,e._counter=0,e}return _create_class(r,[{key:"load",value:function(e){var t=this;return _async_to_generator(function(){var r,o,n,a,i,s;return _ts_generator(this,function(l){switch(l.label){case 0:if(!t.shadowRoot)return[2];switch(o=null!==(r=t.preserveAspectRatio)&&void 0!==r?r:t.objectfit&&aspectRatio(t.objectfit),n={container:t.container,loop:!!t.loop,autoplay:!!t.autoplay,renderer:t.renderer,initialSegment:t.segment,rendererSettings:{imagePreserveAspectRatio:o}},t.renderer){case"svg":n.rendererSettings=_object_spread_props(_object_spread({},n.rendererSettings),{hideOnTransparent:!0,preserveAspectRatio:o,progressiveLoad:!0});break;case"canvas":n.rendererSettings=_object_spread_props(_object_spread({},n.rendererSettings),{clearCanvas:!0,preserveAspectRatio:o,progressiveLoad:!0});break;case"html":n.rendererSettings=_object_spread_props(_object_spread({},n.rendererSettings),{hideOnTransparent:!0})}l.label=1;case 1:if(l.trys.push([1,5,,6]),"string"!=typeof e&&"object"!=typeof e)throw Error("No Lottie animation to load, or the file is corrupted.");if("string"!=typeof e)return[3,3];return[4,fetchPath(e)];case 2:return i=l.sent(),[3,4];case 3:i=e,l.label=4;case 4:if(a=i,!t.isLottie(a))throw Error("dotLottie: Load method failed. Object is not a valid Lottie.");return t._lottie&&t._lottie.destroy(),t._lottie=Lottie.loadAnimation(_object_spread_props(_object_spread({},n),{animationData:a})),[3,6];case 5:return console.error(l.sent()),t.currentState=exports.PlayerState.Error,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Error)),[2];case 6:return t._lottie&&(t._lottie.addEventListener("enterFrame",function(){var e=t._lottie,r=e.currentFrame,o=e.totalFrames;t.seeker=r/o*100,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Frame,{detail:{frame:r,seeker:t.seeker}}))}),t._lottie.addEventListener("complete",function(){t.currentState=exports.PlayerState.Completed,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Complete))}),s=function(){var e,r,o,n=t._lottie,a=n.firstFrame,i=n.totalFrames,s=n.playDirection;if(t.count&&(t.mode===exports.PlayMode.Bounce?t._counter+=1:t._counter+=.5,t._counter>=t.count)){t.setLooping(!1),t.currentState=exports.PlayerState.Completed,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Complete));return}return(t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Loop)),t.mode===exports.PlayMode.Bounce)?(null===(r=t._lottie)||void 0===r||r.goToAndStop(-1===s?a:.99*i,!0),null===(o=t._lottie)||void 0===o||o.setDirection(-1*s),setTimeout(function(){var e;null===(e=t._lottie)||void 0===e||e.play()},t.intermission)):(null===(e=t._lottie)||void 0===e||e.goToAndStop(-1===s?.99*i:a,!0),setTimeout(function(){var e;null===(e=t._lottie)||void 0===e||e.play()},t.intermission))},t._lottie.addEventListener("loopComplete",s),t._lottie.addEventListener("DOMLoaded",function(){t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Ready))}),t._lottie.addEventListener("data_ready",function(){t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Load))}),t._lottie.addEventListener("data_failed",function(){t.currentState=exports.PlayerState.Error,t.dispatchEvent(new CustomEvent(exports.PlayerEvents.Error))}),t.container&&(t.container.addEventListener("mouseenter",function(){t.hover&&t.currentState!==exports.PlayerState.Playing&&t.play()}),t.container.addEventListener("mouseleave",function(){t.hover&&t.currentState===exports.PlayerState.Playing&&t.stop()})),t.setSpeed(t.speed),t.setDirection(t.direction),t.setSubframe(!!t.subframe),t.autoplay&&(-1===t.direction&&t.seek("99%"),t.play())),[2]}})})()}},{key:"_onVisibilityChange",value:function(){document.hidden&&this.currentState===exports.PlayerState.Playing?this.freeze():this.currentState===exports.PlayerState.Frozen&&this.play()}},{key:"_handleSeekChange",value:function(e){if(!(!e.target||!this._lottie||isNaN(Number(e.target.value)))){var t=Number(e.target.value)/100*this._lottie.totalFrames;this.seek(t)}}},{key:"isLottie",value:function(e){return["v","ip","op","layers","fr","w","h"].every(function(t){return Object.prototype.hasOwnProperty.call(e,t)})}},{key:"getLottie",value:function(){return this._lottie}},{key:"play",value:function(){this._lottie&&(this.currentState=exports.PlayerState.Playing,this._lottie.play(),this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Play)))}},{key:"pause",value:function(){this._lottie&&(this.currentState=exports.PlayerState.Paused,this._lottie.pause(),this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Pause)))}},{key:"stop",value:function(){this._lottie&&(this.currentState=exports.PlayerState.Stopped,this._counter=0,this._lottie.stop(),this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Stop)))}},{key:"destroy",value:function(){this._lottie&&(this.currentState=exports.PlayerState.Destroyed,this._lottie.destroy(),this._lottie=null,this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Destroyed)),this.remove())}},{key:"seek",value:function(e){if(this._lottie){var t=e.toString().match(/^([0-9]+)(%?)$/);if(t){var r="%"===t[2]?this._lottie.totalFrames*Number(t[1])/100:t[1];this.seeker=Number(r),this.currentState===exports.PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}},{key:"snapshot",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),r=t instanceof Node?new XMLSerializer().serializeToString(t):null;if(r){if(e){var o=document.createElement("a");o.href="data:image/svg+xmlcharset=utf-8,"+encodeURIComponent(r),o.download="download_"+this.seeker+".svg",document.body.appendChild(o),o.click(),document.body.removeChild(o)}return r}}}},{key:"setSubframe",value:function(e){this._lottie&&(this.subframe=e,this._lottie.setSubframe(e))}},{key:"freeze",value:function(){this._lottie&&(this.currentState=exports.PlayerState.Frozen,this._lottie.pause(),this.dispatchEvent(new CustomEvent(exports.PlayerEvents.Freeze)))}},{key:"reload",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:if(!e._lottie)return[2];if(e._lottie.destroy(),!e.src)return[3,2];return[4,e.load(e.src)];case 1:t.sent(),t.label=2;case 2:return[2]}})})()}},{key:"setSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._lottie&&(this.speed=e,this._lottie.setSpeed(e))}},{key:"setDirection",value:function(e){this._lottie&&(this.direction=e,this._lottie.setDirection(e))}},{key:"setLooping",value:function(e){this._lottie&&(this.loop=e,this._lottie.setLoop(e))}},{key:"togglePlay",value:function(){if(this._lottie){var e=this._lottie,t=e.currentFrame,r=e.playDirection,o=e.totalFrames;return this.currentState===exports.PlayerState.Playing?this.pause():this.currentState===exports.PlayerState.Completed?(this.currentState=exports.PlayerState.Playing,this.mode===exports.PlayMode.Bounce)?(this.setDirection(-1*r),this._lottie.goToAndPlay(t,!0)):-1===r?this._lottie.goToAndPlay(o,!0):this._lottie.goToAndPlay(0,!0):this.play()}}},{key:"toggleLooping",value:function(){this.setLooping(!this.loop)}},{key:"toggleBoomerang",value:function(){this.mode===exports.PlayMode.Normal?this.mode=exports.PlayMode.Bounce:this.mode=exports.PlayMode.Normal}},{key:"connectedCallback",value:function(){_get(_get_prototype_of(r.prototype),"connectedCallback",this).call(this),void 0!==document.hidden&&document.addEventListener("visibilitychange",this._onVisibilityChange)}},{key:"firstUpdated",value:function(){var e=this;return _async_to_generator(function(){return _ts_generator(this,function(t){switch(t.label){case 0:if("IntersectionObserver"in window&&(e._io=new IntersectionObserver(function(t){t[0].isIntersecting?document.hidden||e.currentState!==exports.PlayerState.Frozen||e.play():e.currentState===exports.PlayerState.Playing&&e.freeze()}),e._io.observe(e.container)),!e.src)return[3,2];return[4,e.load(e.src)];case 1:t.sent(),t.label=2;case 2:return e.dispatchEvent(new CustomEvent(exports.PlayerEvents.Rendered)),[2]}})})()}},{key:"disconnectedCallback",value:function(){_get(_get_prototype_of(r.prototype),"disconnectedCallback",this).call(this),this._io&&(this._io.disconnect(),this._io=void 0),this._lottie&&this._lottie.destroy(),document.removeEventListener("visibilitychange",this._onVisibilityChange)}},{key:"renderControls",value:function(){var e,t,r=this,o=this.currentState===exports.PlayerState.Playing,n=this.currentState===exports.PlayerState.Paused,a=this.currentState===exports.PlayerState.Stopped;return lit.html(_templateObject2(),this.togglePlay,o||n?"active":"",o?lit.html(_templateObject()):lit.html(_templateObject1()),this.stop,a?"active":"",null!==(e=this.seeker)&&void 0!==e?e:0,this._handleSeekChange,function(){r._prevState=r.currentState,r.freeze()},function(){r._prevState===exports.PlayerState.Playing&&r.play()},null!==(t=this.seeker)&&void 0!==t?t:0,this.toggleLooping,this.loop?"active":"",this.toggleBoomerang,this.mode===exports.PlayMode.Bounce?"active":"")}},{key:"render",value:function(){var e,t,r,o=this.controls?"main controls":"main",n=this.controls?"animation controls":"animation";return lit.html(_templateObject4(),"animation-container ".concat(o),this.description?null===(t=document)||void 0===t?void 0:null===(e=t.documentElement)||void 0===e?void 0:e.lang:"en",null!==(r=this.description)&&void 0!==r?r:"Lottie animation",n,this.background,this.currentState===exports.PlayerState.Error?lit.html(_templateObject3()):lit.nothing,this.controls?this.renderControls():lit.nothing)}}],[{key:"styles",get:function(){return styles}}]),r}(lit.LitElement),_ts_decorate([decorators_js.property({type:Boolean,reflect:!0}),_ts_metadata("design:type","undefined"==typeof Autoplay?Object:Autoplay)],exports.DotLottiePlayer.prototype,"autoplay",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type",String)],exports.DotLottiePlayer.prototype,"background",void 0),_ts_decorate([decorators_js.property({type:Boolean,reflect:!0}),_ts_metadata("design:type","undefined"==typeof Controls?Object:Controls)],exports.DotLottiePlayer.prototype,"controls",void 0),_ts_decorate([decorators_js.property({type:Number}),_ts_metadata("design:type",Number)],exports.DotLottiePlayer.prototype,"count",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type",void 0===exports.PlayerState?Object:exports.PlayerState)],exports.DotLottiePlayer.prototype,"currentState",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type",String)],exports.DotLottiePlayer.prototype,"description",void 0),_ts_decorate([decorators_js.property({type:Number}),_ts_metadata("design:type","undefined"==typeof AnimationDirection?Object:AnimationDirection)],exports.DotLottiePlayer.prototype,"direction",void 0),_ts_decorate([decorators_js.property({type:Boolean})],exports.DotLottiePlayer.prototype,"hover",void 0),_ts_decorate([decorators_js.property({type:Number})],exports.DotLottiePlayer.prototype,"intermission",void 0),_ts_decorate([decorators_js.property({type:Boolean,reflect:!0}),_ts_metadata("design:type","undefined"==typeof Loop?Object:Loop)],exports.DotLottiePlayer.prototype,"loop",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type",void 0===exports.PlayMode?Object:exports.PlayMode)],exports.DotLottiePlayer.prototype,"mode",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type","undefined"==typeof ObjectFit?Object:ObjectFit)],exports.DotLottiePlayer.prototype,"objectfit",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type","undefined"==typeof PreserveAspectRatio?Object:PreserveAspectRatio)],exports.DotLottiePlayer.prototype,"preserveAspectRatio",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type","undefined"==typeof RendererType?Object:RendererType)],exports.DotLottiePlayer.prototype,"renderer",void 0),_ts_decorate([decorators_js.property({type:Array}),_ts_metadata("design:type",Object)],exports.DotLottiePlayer.prototype,"segment",void 0),_ts_decorate([decorators_js.property({type:Number}),_ts_metadata("design:type",Number)],exports.DotLottiePlayer.prototype,"seeker",void 0),_ts_decorate([decorators_js.property({type:Number}),_ts_metadata("design:type",Number)],exports.DotLottiePlayer.prototype,"speed",void 0),_ts_decorate([decorators_js.property({type:String}),_ts_metadata("design:type",String)],exports.DotLottiePlayer.prototype,"src",void 0),_ts_decorate([decorators_js.property({type:Boolean}),_ts_metadata("design:type","undefined"==typeof Subframe?Object:Subframe)],exports.DotLottiePlayer.prototype,"subframe",void 0),_ts_decorate([decorators_js.query(".animation"),_ts_metadata("design:type","undefined"==typeof HTMLElement?Object:HTMLElement)],exports.DotLottiePlayer.prototype,"container",void 0),exports.DotLottiePlayer=_ts_decorate([decorators_js.customElement("dotlottie-player")],exports.DotLottiePlayer);
